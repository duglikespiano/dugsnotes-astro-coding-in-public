---
// Component imports
import MainLayout from '../../layouts/MainLayout.astro';
import PostCard from '../../components/PostCard.astro';

const allPostsMarkdowns = import.meta.glob<Post>('./*.md', { eager: true });
const postsContent = Object.values(allPostsMarkdowns) as Post[];

type Post = {
	frontmatter: {
		title: string;
		date: string;
		tags?: string[];
	};
	url: string;
};
---

<MainLayout title="My Blog" description="My Blog">
	{postsContent.map((post) => <PostCard frontmatter={post.frontmatter} url={post.url} tagType="h2" />)}
</MainLayout>
